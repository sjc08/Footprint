<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footprint</title>
    <script src="l7.js"></script>
    <script src="coordtransform.min.js"></script>
</head>

<body style="margin: 0;">
    <div id="map" style="height: 100vh;"></div>
    <script>
        window._AMapSecurityConfig = {
            securityJsCode: 'c68019763999486713f65af69b812d37'
        }
    </script>
    <script>
        const scene = new L7.Scene({
            id: 'map',
            map: new L7.GaodeMap({
                style: 'normal',
                zoom: 16,
                token: '3b9a8c37d8a26809a658bb8c59ce17a4'
            })
        });

        function mark(recPt, curPt) {
            scene.removeAllMarkers();
            // recorded point
            if (recPt != null) {
                var recPos = coordtransform.wgs84togcj02(recPt.Longitude, recPt.Latitude);
                const recImg = document.createElement('img');
                recImg.src = 'flag.svg';
                const marker = new L7.Marker({
                    element: recImg,
                    anchor: 'bottom-left'
                }).setLnglat(recPos);
                scene.addMarker(marker)
            }
            // current point
            if (curPt != null) {
                var curPos = coordtransform.wgs84togcj02(curPt.Longitude, curPt.Latitude);
                const curImg = document.createElement('img');
                curImg.src = 'circle.svg';
                var marker2 = new L7.Marker({
                    element: curImg,
                    anchor: 'center'
                }).setLnglat(curPos);
                scene.addMarker(marker2);
                scene.panTo(curPos);
            }
        }
    </script>
</body>

</html>